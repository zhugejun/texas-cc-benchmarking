version: 2

sources:
  - name: raw_ipeds
    description: 'Raw IPEDS data loaded directly from CSV files'
    schema: RAW_IPEDS
    database: TEXAS_CC

    tables:

      # completions
      - name: c_a_2020
        description: 'Completions by Award Level and CIP code (2020 data)'
        columns: &c_a_columns
          - name: UNITID
            description: 'Unique identification number of the institution'
          - name: CIPCODE
            description: 'Classification of Instructional Programs code'
          - name: AWLEVEL
            description: 'Award level code'
          - name: MAJORNUM
            description: 'Major number (1=first major, 2=second major)'
          - name: CTOTALT
            description: 'Total completions'
          - name: CTOTALM
            description: 'Total completions - men'
          - name: CTOTALW
            description: 'Total completions - women'
          - name: CAIANT
            description: 'Completions - American Indian or Alaska Native'
          - name: CASIAT
            description: 'Completions - Asian'
          - name: CBKAAT
            description: 'Completions - Black or African American'
          - name: CHISPT
            description: 'Completions - Hispanic or Latino'
          - name: CNHPIT
            description: 'Completions - Native Hawaiian or Pacific Islander'
          - name: CWHITT
            description: 'Completions - White'
          - name: C2MORT
            description: 'Completions - Two or more races'
          - name: CUNKNT
            description: 'Completions - Race/ethnicity unknown'
          - name: CNRALT
            description: 'Completions - Nonresident alien'

      - name: c_a_2021
        description: 'Completions by Award Level and CIP code (2021 data)'
        columns: *c_a_columns

      - name: c_a_2022
        description: 'Completions by Award Level and CIP code (2022 data)'
        columns: *c_a_columns

      - name: c_a_2023
        description: 'Completions by Award Level and CIP code (2023 data)'
        columns: *c_a_columns

      - name: c_a_2024
        description: 'Completions by Award Level and CIP code (2024 data)'
        columns: *c_a_columns
      

      # institutional characteristics
      - name: hd_2024
        description: 'Institutional Characteristics (Directory Information) 2024'
        columns: &hd_columns
          - name: UNITID
            description: 'Unique identification number of the institution'
            tests:
              - unique
              - not_null
          - name: INSTNM
            description: 'Institution name'
          - name: IALIAS
            description: 'Institution name alias'
          - name: CITY
            description: 'City location of institution'
          - name: STABBR
            description: 'State abbreviation'
          - name: ZIP
            description: 'ZIP code'
          - name: FIPS
            description: 'FIPS state code'
          - name: OBEREG
            description: 'Bureau of Economic Analysis region code'
          - name: SECTOR
            description: 'Institutional sector (1-9)'
          - name: ICLEVEL
            description: 'Level of institution (1=4-year, 2=2-year, 3=Less-than-2-year)'
          - name: CONTROL
            description: 'Control of institution (1=Public, 2=Private nonprofit, 3=Private for-profit)'
          - name: HLOFFER
            description: 'Highest level of offering'
          - name: UGOFFER
            description: 'Undergraduate offering (1=Yes, 2=No)'
          - name: GROFFER
            description: 'Graduate offering (1=Yes, 2=No)'
          - name: LOCALE
            description: 'Degree of urbanization (locale code)'
          - name: INSTSIZE
            description: 'Institution size category'
          - name: WEBADDR
            description: 'Institution website URL'
          - name: ADMINURL
            description: 'Admissions office URL'
          - name: FAIDURL
            description: 'Financial aid office URL'
          - name: APPLURL
            description: 'Online application URL'
      
      - name: hd_2023
        description: 'Institutional Characteristics 2023'
        columns: *hd_columns

      - name: hd_2022
        description: 'Institutional Characteristics 2022'
        columns: *hd_columns

      - name: hd_2021
        description: 'Institutional Characteristics 2021'
        columns: *hd_columns

      - name: hd_2020
        description: 'Institutional Characteristics 2020'
        columns: *hd_columns

      # enrollment
      - name: effy_2024
        description: '12-Month Enrollment (unduplicated headcount) 2024'
        columns: &effy_columns
          - name: UNITID
            description: 'Unique identification number of the institution'
          - name: EFFYALEV
            description: 'Level of student (1=All, 2=Undergrad, 4=Grad, 21=Undergrad degree-seeking, 22=Undergrad non-degree-seeking)'
          - name: EFYTOTLT
            description: 'Total 12-month enrollment'
          - name: EFYTOTLM
            description: 'Total 12-month enrollment - men'
          - name: EFYTOTLW
            description: 'Total 12-month enrollment - women'
          - name: EFYAIANT
            description: 'Enrollment - American Indian or Alaska Native'
          - name: EFYASIAT
            description: 'Enrollment - Asian'
          - name: EFYBKAAT
            description: 'Enrollment - Black or African American'
          - name: EFYHISPT
            description: 'Enrollment - Hispanic or Latino'
          - name: EFYNHPIT
            description: 'Enrollment - Native Hawaiian or Pacific Islander'
          - name: EFYWHITT
            description: 'Enrollment - White'
          - name: EFY2MORT
            description: 'Enrollment - Two or more races'
          - name: EFYUNKNT
            description: 'Enrollment - Race/ethnicity unknown'
          - name: EFYNRALT
            description: 'Enrollment - Nonresident alien'


      - name: effy_2023
        description: '12-Month Enrollment (unduplicated headcount) 2023'
        columns: *effy_columns

      - name: effy_2022
        description: '12-Month Enrollment (unduplicated headcount) 2022'
        columns: *effy_columns

      - name: effy_2021
        description: '12-Month Enrollment (unduplicated headcount) 2021'
        columns: *effy_columns

      - name: effy_2020
        description: '12-Month Enrollment (unduplicated headcount) 2020'
        columns: *effy_columns



      - name: sfa_2024
        description: 'Student Financial Aid information 2024'
        columns: &sfa_columns
          - name: UNITID
            description: 'Unique identification number of the institution'
          # Undergraduate enrollment for financial aid cohort
          - name: SCUGRAD
            description: 'Number of undergraduates analyzed for financial aid'
          - name: SCUGDGSK
            description: 'Undergraduate degree-seeking count'
          - name: SCUGNDGS
            description: 'Undergraduate non-degree-seeking count'
          - name: SCUGFFN
            description: 'Full-time first-time undergraduate count (critical for HB8)'
          - name: SCUGFFP
            description: 'Full-time first-time undergraduate percent'
          # Fall cohort enrollment
          - name: SCFA2
            description: 'Fall cohort total undergraduates'
          - name: SCFA2DG
            description: 'Fall cohort degree-seeking'
          - name: SCFA2ND
            description: 'Fall cohort non-degree-seeking'
          - name: SCFA1N
            description: 'Fall cohort student count'
          - name: SCFA1P
            description: 'Fall cohort percent of undergraduates'
          # Full-year cohort enrollment
          - name: SCFY2
            description: 'Full-year cohort total undergraduates'
          - name: SCFY2DG
            description: 'Full-year cohort degree-seeking'
          - name: SCFY2ND
            description: 'Full-year cohort non-degree-seeking'
          - name: SCFY1N
            description: 'Full-year cohort student count'
          - name: SCFY1P
            description: 'Full-year cohort percent of undergraduates'
          # All undergraduates: Pell Grant recipients
          - name: UPGRNTN
            description: 'All UG Pell Grant recipients count (key for HB8 economically disadvantaged)'
          - name: UPGRNTP
            description: 'All UG Pell Grant recipients percent'
          - name: UPGRNTT
            description: 'All UG Pell Grant total amount'
          - name: UPGRNTA
            description: 'All UG Pell Grant average amount'
          # All undergraduates: Any grant aid
          - name: UAGRNTN
            description: 'All UG any grant recipients count'
          - name: UAGRNTP
            description: 'All UG any grant recipients percent'
          - name: UAGRNTT
            description: 'All UG any grant total amount'
          - name: UAGRNTA
            description: 'All UG any grant average amount'
          # All undergraduates: Federal student loans
          - name: UFLOANN
            description: 'All UG federal loan recipients count'
          - name: UFLOANP
            description: 'All UG federal loan recipients percent'
          - name: UFLOANT
            description: 'All UG federal loan total amount'
          - name: UFLOANA
            description: 'All UG federal loan average amount'
          # Degree-seeking undergraduates: Pell grants
          - name: UDGPGRNTN
            description: 'Degree-seeking Pell recipients count'
          - name: UDGPGRNTP
            description: 'Degree-seeking Pell recipients percent'
          - name: UDGPGRNTT
            description: 'Degree-seeking Pell total amount'
          - name: UDGPGRNTA
            description: 'Degree-seeking Pell average amount'
          # Degree-seeking undergraduates: Any grant aid
          - name: UDGAGRNTN
            description: 'Degree-seeking any grant recipients count'
          - name: UDGAGRNTP
            description: 'Degree-seeking any grant recipients percent'
          - name: UDGAGRNTT
            description: 'Degree-seeking any grant total amount'
          - name: UDGAGRNTA
            description: 'Degree-seeking any grant average amount'
          # Degree-seeking undergraduates: Federal loans
          - name: UDGFLOANN
            description: 'Degree-seeking federal loan recipients count'
          - name: UDGFLOANP
            description: 'Degree-seeking federal loan recipients percent'
          - name: UDGFLOANT
            description: 'Degree-seeking federal loan total amount'
          - name: UDGFLOANA
            description: 'Degree-seeking federal loan average amount'
          # FTFT: Any financial aid
          - name: ANYAIDN
            description: 'FTFT any aid recipients count'
          - name: ANYAIDP
            description: 'FTFT any aid recipients percent'
          - name: AIDFSIN
            description: 'FTFT loan or grant recipients count'
          - name: AIDFSIP
            description: 'FTFT loan or grant recipients percent'
          # FTFT: Federal, state, local, or institutional grants combined
          - name: AGRNT_N
            description: 'FTFT any grant recipients count'
          - name: AGRNT_P
            description: 'FTFT any grant recipients percent'
          - name: AGRNT_T
            description: 'FTFT any grant total amount'
          - name: AGRNT_A
            description: 'FTFT any grant average amount'
          # FTFT: Federal grants
          - name: FGRNT_N
            description: 'FTFT federal grant recipients count'
          - name: FGRNT_P
            description: 'FTFT federal grant recipients percent'
          - name: FGRNT_T
            description: 'FTFT federal grant total amount'
          - name: FGRNT_A
            description: 'FTFT federal grant average amount'
          # FTFT: Pell grants
          - name: PGRNT_N
            description: 'FTFT Pell recipients count (critical for HB8)'
          - name: PGRNT_P
            description: 'FTFT Pell recipients percent'
          - name: PGRNT_T
            description: 'FTFT Pell total amount'
          - name: PGRNT_A
            description: 'FTFT Pell average amount'
          # FTFT: Other federal grants (non-Pell)
          - name: OFGRT_N
            description: 'FTFT other federal grant recipients count'
          - name: OFGRT_P
            description: 'FTFT other federal grant recipients percent'
          - name: OFGRT_T
            description: 'FTFT other federal grant total amount'
          - name: OFGRT_A
            description: 'FTFT other federal grant average amount'
          # FTFT: State/local grants
          - name: SGRNT_N
            description: 'FTFT state/local grant recipients count'
          - name: SGRNT_P
            description: 'FTFT state/local grant recipients percent'
          - name: SGRNT_T
            description: 'FTFT state/local grant total amount'
          - name: SGRNT_A
            description: 'FTFT state/local grant average amount'
          # FTFT: Institutional grants
          - name: IGRNT_N
            description: 'FTFT institutional grant recipients count'
          - name: IGRNT_P
            description: 'FTFT institutional grant recipients percent'
          - name: IGRNT_T
            description: 'FTFT institutional grant total amount'
          - name: IGRNT_A
            description: 'FTFT institutional grant average amount'
          # FTFT: Student loans
          - name: LOAN_N
            description: 'FTFT loan recipients count'
          - name: LOAN_P
            description: 'FTFT loan recipients percent'
          - name: LOAN_T
            description: 'FTFT loan total amount'
          - name: LOAN_A
            description: 'FTFT loan average amount'
          # FTFT: Federal student loans
          - name: FLOAN_N
            description: 'FTFT federal loan recipients count'
          - name: FLOAN_P
            description: 'FTFT federal loan recipients percent'
          - name: FLOAN_T
            description: 'FTFT federal loan total amount'
          - name: FLOAN_A
            description: 'FTFT federal loan average amount'
          # FTFT: Other (non-federal) student loans
          - name: OLOAN_N
            description: 'FTFT other loan recipients count'
          - name: OLOAN_P
            description: 'FTFT other loan recipients percent'
          - name: OLOAN_T
            description: 'FTFT other loan total amount'
          - name: OLOAN_A
            description: 'FTFT other loan average amount'

      - name: sfa_2023
        description: 'Student Financial Aid information 2023'
        columns: *sfa_columns

      - name: sfa_2022
        description: 'Student Financial Aid information 2022'
        columns: *sfa_columns

      - name: sfa_2021
        description: 'Student Financial Aid information 2021'
        columns: *sfa_columns

      - name: sfa_2020
        description: 'Student Financial Aid information 2020'
        columns: *sfa_columns


      - name: gr_2024
        description: 'Graduation Rates for first-time, full-time degree-seeking students 2024'
        columns: &gr_columns
          - name: UNITID
            description: 'Unique identification number of the institution'
          # Cohort identifying information
          - name: GRTYPE
            description: 'Graduation rate cohort type code'
          - name: CHRTSTAT
            description: 'Cohort status code'
          - name: SECTION
            description: 'Data section'
          - name: COHORT
            description: 'Cohort year'
          - name: LINE
            description: 'Survey line number'
          # Grand totals (all genders)
          - name: GRTOTLT
            description: 'Total count/rate'
          - name: GRTOTLM
            description: 'Total - men'
          - name: GRTOTLW
            description: 'Total - women'
          # American Indian or Alaska Native
          - name: GRAIANT
            description: 'American Indian or Alaska Native - total'
          - name: GRAIANM
            description: 'American Indian or Alaska Native - men'
          - name: GRAIANW
            description: 'American Indian or Alaska Native - women'
          # Asian
          - name: GRASIAT
            description: 'Asian - total'
          - name: GRASIAM
            description: 'Asian - men'
          - name: GRASIAW
            description: 'Asian - women'
          # Black or African American
          - name: GRBKAAT
            description: 'Black or African American - total'
          - name: GRBKAAM
            description: 'Black or African American - men'
          - name: GRBKAAW
            description: 'Black or African American - women'
          # Hispanic or Latino
          - name: GRHISPT
            description: 'Hispanic or Latino - total'
          - name: GRHISPM
            description: 'Hispanic or Latino - men'
          - name: GRHISPW
            description: 'Hispanic or Latino - women'
          # Native Hawaiian or Other Pacific Islander
          - name: GRNHPIT
            description: 'Native Hawaiian or Pacific Islander - total'
          - name: GRNHPIM
            description: 'Native Hawaiian or Pacific Islander - men'
          - name: GRNHPIW
            description: 'Native Hawaiian or Pacific Islander - women'
          # White
          - name: GRWHITT
            description: 'White - total'
          - name: GRWHITM
            description: 'White - men'
          - name: GRWHITW
            description: 'White - women'
          # Two or more races
          - name: GR2MORT
            description: 'Two or more races - total'
          - name: GR2MORM
            description: 'Two or more races - men'
          - name: GR2MORW
            description: 'Two or more races - women'
          # Race/ethnicity unknown
          - name: GRUNKNT
            description: 'Race/ethnicity unknown - total'
          - name: GRUNKNM
            description: 'Race/ethnicity unknown - men'
          - name: GRUNKNW
            description: 'Race/ethnicity unknown - women'
          # U.S. Nonresident (international students)
          - name: GRNRALT
            description: 'Nonresident alien - total'
          - name: GRNRALM
            description: 'Nonresident alien - men'
          - name: GRNRALW
            description: 'Nonresident alien - women'


      - name: gr_2023
        description: 'Graduation Rates for first-time, full-time degree-seeking students 2023'
        columns: *gr_columns

      - name: gr_2022
        description: 'Graduation Rates for first-time, full-time degree-seeking students 2022'
        columns: *gr_columns

      - name: gr_2021
        description: 'Graduation Rates for first-time, full-time degree-seeking students 2021'
        columns: *gr_columns

      - name: gr_2020
        description: 'Graduation Rates for first-time, full-time degree-seeking students 2020'
        columns: *gr_columns